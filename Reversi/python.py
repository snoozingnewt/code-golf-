import sys,re
F=lambda p,d,z:p>-1!=a[p:p+1]>"."and(z,F(p+d-50,d,1))[a[p]>"O"]
for a in sys.argv[1:]:print(re.sub('\.',lambda m:".!"[any(F(m.end()+d-51,d,0)for d in b"()*13:;<")],a)+"\n")
